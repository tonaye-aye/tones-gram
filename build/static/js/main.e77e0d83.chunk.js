(this.webpackJsonptonesgram=this.webpackJsonptonesgram||[]).push([[0],{35:function(e,t,a){e.exports=a(50)},40:function(e,t,a){},50:function(e,t,a){"use strict";a.r(t);var n=a(1),l=a.n(n),r=a(27),c=a.n(r),i=(a(40),a(8)),s=a(15),o=a(4),u=a(23),m=a(13);a(52),a(41);m.initializeApp({apiKey:"AIzaSyBJWgUc0_AZPkcx6J6Yh1BkXKh8CZXgR48",authDomain:"devtones-firegram.firebaseapp.com",databaseURL:"https://devtones-firegram.firebaseio.com",projectId:"devtones-firegram",storageBucket:"devtones-firegram.appspot.com",messagingSenderId:"1074261129505",appId:"1:1074261129505:web:39c6e521b532d3693f2660"});var d=m.storage(),p=m.firestore(),E=m.firestore.FieldValue.serverTimestamp,f=function(e){var t=Object(n.useState)([]),a=Object(i.a)(t,2),l=a[0],r=a[1];return Object(n.useEffect)((function(){var t=p.collection(e).orderBy("createdAt","desc").onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(Object(u.a)(Object(u.a)({},e.data()),{},{id:e.id}))})),r(t)}));return function(){return t()}}),[e]),{docs:l}},g=a(10),b=function(e){var t=e.setSelectedImg,a=e.setBodyOverflow,n=f("images").docs;return console.log(n),l.a.createElement("div",{className:"img-grid"},n&&n.map((function(e){return l.a.createElement(g.a.div,{layout:!0,whileHover:{opacity:1},className:"img-wrap",key:e.id,onClick:function(){t(e.url),a("hidden")}},l.a.createElement(g.a.img,{src:e.url,alt:"summer",initial:{opacity:0},animate:{opacity:1},transition:{delay:1}}))})))},v=function(e){var t=e.selectedImg,a=e.setSelectedImg,n=e.setBodyOverflow;return l.a.createElement(g.a.div,{className:"backdrop",onClick:function(e){e.target.classList.contains("backdrop")&&(a(null),n("visible"))},initial:{opacity:0},animate:{opacity:1}},l.a.createElement(g.a.img,{src:t,alt:"fred",initial:{y:"-100vh"},animate:{y:0}}))},h=function(){var e=Object(o.f)();return l.a.createElement("nav",null,l.a.createElement("p",{className:"brand",onClick:function(){e.push("")}},"tonesgram"),l.a.createElement("div",{className:"fold"},l.a.createElement("p",{className:"hide"},"Share memories"),l.a.createElement("button",{type:"button",onClick:function(){e.push("about")}},"About")))},y=a(34),O=a(21),j=a.n(O),S=a(30),k=function(e){var t=Object(n.useState)(0),a=Object(i.a)(t,2),l=a[0],r=a[1],c=Object(n.useState)(null),s=Object(i.a)(c,2),o=s[0],u=s[1],m=Object(n.useState)(null),f=Object(i.a)(m,2),g=f[0],b=f[1];return Object(n.useEffect)((function(){var t=d.ref(e.name),a=p.collection("images");t.put(e).on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;r(t)}),(function(e){u(e)}),Object(S.a)(j.a.mark((function e(){var n,l;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getDownloadURL();case 2:n=e.sent,l=E(),a.add({url:n,createdAt:l}),b(n);case 6:case"end":return e.stop()}}),e)}))))}),[e]),{progress:l,url:g,error:o}},w=function(e){var t=e.file,a=e.setFile,r=k(t),c=r.url,i=r.progress;return Object(n.useEffect)((function(){c&&a(null)}),[c,a]),l.a.createElement("div",{className:"progress"},l.a.createElement("p",null,"Uploading ",t.name," ",l.a.createElement("strong",null,Math.ceil(i),"%")),l.a.createElement(g.a.div,{className:"progress-bar",initial:{width:0},animate:{width:i+"%"}}))},N=a(32),I=a(31),B=function(){var e=Object(n.useState)(null),t=Object(i.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(null),s=Object(i.a)(c,2),o=s[0],u=s[1],m=["image/png","image/jpeg"],d=Object(y.a)({onDrop:function(e){var t=e[0];t&&m.includes(t.type)?(r(t),u("")):(r(null),u("Please select a .png or .jpg only"))}}),p=d.getRootProps,E=d.getInputProps,f=d.isDragActive;return l.a.createElement("form",null,l.a.createElement("h1",null,"Upload..."),l.a.createElement("div",Object.assign({className:"drop"},p()),l.a.createElement("input",E()),f?l.a.createElement("div",null,l.a.createElement(I.a,{size:"2.5em"}),l.a.createElement("p",null,"Drop it like it's hot")):l.a.createElement("div",null,l.a.createElement(N.a,{size:"2.5em"}),l.a.createElement("p",null,"Drag 'n' drop an image (or click here)"))),l.a.createElement("div",{className:"output"},o&&l.a.createElement("p",{className:"error"},o),a&&l.a.createElement(w,{file:a,setFile:r})))},A=a(22),C=a(33),D=function(){var e=Object(o.f)();return l.a.createElement("div",{className:"about"},l.a.createElement("h1",null,"About us"),l.a.createElement("h3",null,"Upload images simply and watch the display reel update once an image is added."),l.a.createElement("h3",null,"Built using:"),l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement(A.a,null),l.a.createElement("span",null,"React")),l.a.createElement("li",null,l.a.createElement(C.a,null),l.a.createElement("span",null,"Firebase")),l.a.createElement("li",null,l.a.createElement(A.b,null),l.a.createElement("span",null,"Sass"))),l.a.createElement("div",{className:"links"},l.a.createElement("button",{type:"button",onClick:function(){e.push("")}},"Home"),l.a.createElement("a",{href:"https://github.com/tonaye-aye/tones-gram"},"View code")))},U=function(){return l.a.createElement("footer",null,l.a.createElement("p",null,"\xa9 tonesgram 2020"))};var R=function(){var e=Object(n.useState)(null),t=Object(i.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)("visible"),u=Object(i.a)(c,2),m=u[0],d=u[1];return document.body.style.overflow=m,l.a.createElement("div",{className:"App"},l.a.createElement(s.a,null,l.a.createElement(h,null),l.a.createElement("main",null,l.a.createElement(o.c,null,l.a.createElement(o.a,{path:"/about"},l.a.createElement(D,null)),l.a.createElement(o.a,{path:"/"},l.a.createElement(B,null),l.a.createElement(b,{setBodyOverflow:d,setSelectedImg:r}),a&&l.a.createElement(v,{setBodyOverflow:d,selectedImg:a,setSelectedImg:r})))),l.a.createElement(U,null)))};c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(R,null)),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.e77e0d83.chunk.js.map